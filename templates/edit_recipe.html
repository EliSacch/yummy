{% extends 'base.html' %}
<!--
    This is the custom template to edit a recipe.
-->

{% block title %}Yummy - Edit Recipe{% endblock %}

{% block content %}

{% if user.is_authenticated %}

<section class="valign-wrapper dark-text">
    <div class="container">
        <!-- Go back button -->
        <div class="go-back">
            <a class="tooltipped" data-position="bottom" data-tooltip="Go back">
                <button class="btn-floating primary-3 light-text">
                    <i class="lmedium material-icons">arrow_back</i>
                </button>
            </a>
        </div>
        <div class="row form-header">
            <div class="col s12">
                <h1 class="subheading">Edit Recipe</h1>
            </div>
        </div>

        <!-- Edit recipe form -->
        <div class="row">
            <div class="col s12">
                <!-- 
                    The edit recipe form includes the recipe-form, used to add recipes as well.
                    For this reason the form tag is not included in the general recipe-form, because the form id and action are different.
                -->
                <form class="center recipe_form" enctype="multipart/form-data" id="edit_recipe_form" method="post" action="{% url 'edit_recipe' pk=form.instance.pk %}"> 
                    {% include 'recipe_form.html' %}
                </form>
            </div>
        </div>
    </div>
</section>
{% else %} 

<section>
    <div class="container">
        <h1>Please, <a href="{% url 'account_login' %}">log in</a> to log in to edit recipes.</h1>

        <p><a href="{% url 'home' %}">Go home</a></p>
        
    </div>
</section>

{% endif %}

{% endblock %}
